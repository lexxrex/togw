import{u as P,b as k,_ as C,a as B}from"./Container.d04f0363.js";import{r as h,K as O,L as M,M as g,s as z,N as E,h as x,O as A,P as H,m as N,z as R,o as _,x as U,w as L,a as v,c as y,Q as S,R as j,b,t as F}from"./entry.48e6ceba.js";const K=()=>null;function T(...o){const i=typeof o[o.length-1]=="string"?o.pop():void 0;typeof o[0]!="string"&&o.unshift(i);let[a,l,s={}]=o;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");s.server=s.server??!0,s.default=s.default??K,s.lazy=s.lazy??!1,s.immediate=s.immediate??!0;const e=E(),p=()=>e.isHydrating?e.payload.data[a]:e.static.data[a],d=()=>p()!==void 0;e._asyncData[a]||(e._asyncData[a]={data:h(p()??s.default()),pending:h(!d()),error:O(e.payload._errors,a),status:h("idle")});const t={...e._asyncData[a]};t.refresh=t.execute=(r={})=>{if(e._asyncDataPromises[a]){if(r.dedupe===!1)return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if((r._initial||e.isHydrating&&r._initial!==!1)&&d())return p();t.pending.value=!0,t.status.value="pending";const f=new Promise((n,c)=>{try{n(l(e))}catch(w){c(w)}}).then(n=>{if(f.cancelled)return e._asyncDataPromises[a];let c=n;s.transform&&(c=s.transform(n)),s.pick&&(c=V(c,s.pick)),t.data.value=c,t.error.value=null,t.status.value="success"}).catch(n=>{if(f.cancelled)return e._asyncDataPromises[a];t.error.value=n,t.data.value=x(s.default()),t.status.value="error"}).finally(()=>{f.cancelled||(t.pending.value=!1,e.payload.data[a]=t.data.value,t.error.value&&(e.payload._errors[a]=A(t.error.value)),delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=f,e._asyncDataPromises[a]};const m=()=>t.refresh({_initial:!0}),u=s.server!==!1&&e.payload.serverRendered;{const r=H();if(r&&!r._nuxtOnBeforeMountCbs){r._nuxtOnBeforeMountCbs=[];const n=r._nuxtOnBeforeMountCbs;r&&(M(()=>{n.forEach(c=>{c()}),n.splice(0,n.length)}),g(()=>n.splice(0,n.length)))}u&&e.isHydrating&&d()?(t.pending.value=!1,t.status.value=t.error.value?"error":"success"):r&&(e.payload.serverRendered&&e.isHydrating||s.lazy)&&s.immediate?r._nuxtOnBeforeMountCbs.push(m):s.immediate&&m(),s.watch&&z(s.watch,()=>t.refresh());const f=e.hook("app:data:refresh",n=>{if(!n||n.includes(a))return t.refresh()});r&&g(f)}const D=Promise.resolve(e._asyncDataPromises[a]).then(()=>t);return Object.assign(D,t),D}function V(o,i){const a={};for(const l of i)a[l]=o[l];return a}const I={class:"container mx-auto pt-20"},Q={class:"m-4"},q={key:0},G={key:1},X=N({__name:"profiles",async setup(o){let i,a;const l=P(),{data:s}=([i,a]=R(async()=>T("profiles",async()=>{const{data:e}=await l.from("profiles").select("*");return e})),i=await i,a(),i);return(e,p)=>{const d=C,t=B,m=k;return _(),U(m,null,{default:L(()=>[v("div",I,[v("div",Q,[x(s)?(_(),y("ul",q,[(_(!0),y(S,null,j(x(s),u=>(_(),y("li",{key:u.id,class:"py-4 flex items-center space-x-3"},[b(d,{src:u.avatar_url,alt:u.full_name,class:"ml-4"},null,8,["src","alt"]),v("span",null,F(u.full_name),1),b(t,{variant:"theme",size:"xs",label:u.website},null,8,["label"])]))),128))])):(_(),y("p",G," Loading... "))])])]),_:1})}}});export{X as default};
