import{_ as k,a as C}from"./Badge.c907a36d.js";import{r as h,F as P,G as B,H as g,x as O,I as E,h as x,J as M,K as A,m as H,s as z,A as U,o as _,y as F,w as L,a as v,c as y,L as N,M as R,E as S,b as w,t as j}from"./entry.a64f2650.js";const I=()=>null;function K(...o){const i=typeof o[o.length-1]=="string"?o.pop():void 0;typeof o[0]!="string"&&o.unshift(i);let[a,l,s={}]=o;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");s.server=s.server??!0,s.default=s.default??I,s.lazy=s.lazy??!1,s.immediate=s.immediate??!0;const e=E(),p=()=>e.isHydrating?e.payload.data[a]:e.static.data[a],d=()=>p()!==void 0;e._asyncData[a]||(e._asyncData[a]={data:h(p()??s.default()),pending:h(!d()),error:P(e.payload._errors,a),status:h("idle")});const t={...e._asyncData[a]};t.refresh=t.execute=(r={})=>{if(e._asyncDataPromises[a]){if(r.dedupe===!1)return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if((r._initial||e.isHydrating&&r._initial!==!1)&&d())return p();t.pending.value=!0,t.status.value="pending";const f=new Promise((n,c)=>{try{n(l(e))}catch(b){c(b)}}).then(n=>{if(f.cancelled)return e._asyncDataPromises[a];let c=n;s.transform&&(c=s.transform(n)),s.pick&&(c=T(c,s.pick)),t.data.value=c,t.error.value=null,t.status.value="success"}).catch(n=>{if(f.cancelled)return e._asyncDataPromises[a];t.error.value=n,t.data.value=x(s.default()),t.status.value="error"}).finally(()=>{f.cancelled||(t.pending.value=!1,e.payload.data[a]=t.data.value,t.error.value&&(e.payload._errors[a]=M(t.error.value)),delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=f,e._asyncDataPromises[a]};const m=()=>t.refresh({_initial:!0}),u=s.server!==!1&&e.payload.serverRendered;{const r=A();if(r&&!r._nuxtOnBeforeMountCbs){r._nuxtOnBeforeMountCbs=[];const n=r._nuxtOnBeforeMountCbs;r&&(B(()=>{n.forEach(c=>{c()}),n.splice(0,n.length)}),g(()=>n.splice(0,n.length)))}u&&e.isHydrating&&d()?(t.pending.value=!1,t.status.value=t.error.value?"error":"success"):r&&(e.payload.serverRendered&&e.isHydrating||s.lazy)&&s.immediate?r._nuxtOnBeforeMountCbs.push(m):s.immediate&&m(),s.watch&&O(s.watch,()=>t.refresh());const f=e.hook("app:data:refresh",n=>{if(!n||n.includes(a))return t.refresh()});r&&g(f)}const D=Promise.resolve(e._asyncDataPromises[a]).then(()=>t);return Object.assign(D,t),D}function T(o,i){const a={};for(const l of i)a[l]=o[l];return a}const V={class:"container mx-auto pt-20"},G={class:"m-4"},J={key:0},q={key:1},X=H({__name:"profiles",async setup(o){let i,a;const l=z(),{data:s}=([i,a]=U(async()=>K("profiles",async()=>{const{data:e}=await l.from("profiles").select("*");return e})),i=await i,a(),i);return(e,p)=>{const d=k,t=C,m=S;return _(),F(m,null,{default:L(()=>[v("div",V,[v("div",G,[x(s)?(_(),y("ul",J,[(_(!0),y(N,null,R(x(s),u=>(_(),y("li",{key:u.id,class:"py-4 flex items-center space-x-3"},[w(d,{src:u.avatar_url,alt:u.full_name,class:"ml-4"},null,8,["src","alt"]),v("span",null,j(u.full_name),1),w(t,{variant:"theme",size:"xs",label:u.website},null,8,["label"])]))),128))])):(_(),y("p",q," Loading... "))])])]),_:1})}}});export{X as default};
